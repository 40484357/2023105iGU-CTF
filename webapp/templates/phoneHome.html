<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title></title>
	<meta name="description" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="{{ url_for('static', filename='styles.css')}}" />
	<link
			href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
	<div class="gameLauncher" id="phoneChallenges">
		<div class="gameHeader">
			<div class="navButton"onclick="goToEvidence()">Back</div>
			<div class="roomTitle">Into the phone</div>
			<div id="clock"></div>
		</div>
		<div class="toolButtonContainer">
			<div class="buttonContainer tooltip">
				<div class="buttonHelp" onclick="openInfoBox()">
					<div class="buttonInfo">
						<span class="material-symbols-outlined">help</span>
					</div>
				</div>
			</div>
			<div class="buttonContainer tooltip">
				<div class="buttonHelp" onclick="openToolBox()">
					<div class="buttonInfo">
						<span class="material-symbols-outlined">
							construction
						</span>
					</div>
				</div>
			</div>
			<div class="buttonContainer tooltip">
				<button class="buttonHelp" onclick="getHint('{{hint}}')">
					<span class="material-icons-outlined md-30">&#xE79A;</span>
				</button>
				<span class="tooltiptext">Use a hint!</span>
			</div>
			<div class="hidden" id="hintDiv">
				<div class="hintNav">
					<button id="closeHint" onclick="closeHint()">
						&#10006;
					</button>
				</div>
				<div id="hintText">

				</div>
			</div>
		</div>
		<div class="gameBox" id="gameInfoBox">
			<div class="closeBox" >
				<span class="material-symbols-outlined" onclick="openInfoBox()">
					close
				</span>
			</div>
			<p class="phoneDescript">
				There seems to be an encrypted file.<br>
				Look around to see if there are any hints.<br>
			</p>
		</div>
		<div class="toolBox hidden" id="toolBox">
			<div class="closeBox" >
				<span class="material-symbols-outlined" onclick="openToolBox()">
					close
				</span>
			</div>
			<p class="toolBoxHeader">Tools</p>
			<p class="toolBoxTool">Steganogrpahy XHcode</p>
			<a href="https://www.xhcode.com/converter/steganographic-decoder.html" target="_blank">
			<div class="openToolButton">
				Open Tool
			</div>
			</a>
			
		</div>
		<div class="hidden" id="hintDiv">
			<div class="hintNav">
				<button id="closeHint" onclick="closeHint()">
					&#10006;
				</button>
			</div>
			<div id="hintText">

			</div>
		</div>

		<div class="phoneHome" id="phoneHome">
			<div id="photosButton"></div>
			<div id="steganoModal" class="modal">
				<span class="close">&times;</span>
				<img class="modal-content" src={{stegImageRoute}}>
				<div id="caption"></div>
				<a class = "dlPhoto" href={{stegImageRoute}} class ="button" download>Download Photo</a>
				<form class = "validatePhoto" method = "POST">
					<input type = "answer" name = "validatePhoto" id = "validatePhoto">
					<input type = "submit" name = "validater" value = "Validate">
				</form>

			</div>
			<div class = "hidden" id="aesFileButton" onclick="openAesApp()"></div>
			<div id="notesButton" onclick="openNotesApp()"></div>
			<a href = "https://asecuritysite.com/aes/openssl_full_d" target="_blank" >
				<div id="decodeButton"></div>
			</a>
			<div class="notesApp" id="notesApp">
				<h1>Notes</h1>
				<h2>Passphrases</h2>
				<ul>
					<li>diffiehellman</li>
					<li>aesencryption</li>
					<li>blowfish</li>
					<li>rivestshamiradleman</li>
					<li>twofish</li>
					<li>bcrypt</li>
					<li>ellipticcurve</li>
					<li>ripemd</li>
					<li>murmur</li>
					<li>tiger</li>
				</ul>
			</div>
			<div class="aesApp" id="aesApp">
				<h1>Encrypted file</h1>
				<h2>Enter the password to unlock</h2>
				<div class="aesLock" id="aesLock"></div>
				<form class="aesPassword" method="POST" id = aesForm>
					<input type="answer" name="password" id="password">
					<input type="submit" name ="aes" value="Submit">
				</form>

			</div>
			{% with messages = get_flashed_messages() %} {% if messages %}
			<div class="aesFlash">
				{% for message in messages %}
				<div class="aesMessage" id="aesMessage">{{message}}</div>
				{% endfor %}
			</div>
			{% endif %} {% endwith %}
			<div id="backButtonNotes" onclick="closeNotesApp()"></div>
			<div id="backButtonAes" onclick="closeAesApp()"></div>



		</div>
		


	</div>
	
</body>
<script>
	var aesCheck = {{aesState}}
	var aesFile = document.getElementById('aesFileButton')
	if(aesCheck == true){
		aesFile.classList.remove('hidden')
	}

	var infoBox = document.getElementById('gameInfoBox')
			var toolBox = document.getElementById('toolBox')
			function openInfoBox(){
				infoBox.classList.toggle('hidden')
				toolBox.classList.add('hidden')
			}

			function openToolBox(){
				toolBox.classList.toggle('hidden')
				infoBox.classList.add('hidden')
			}
</script>
<script src="{{ url_for('static', filename='script.js')}}" async defer></script>
</html>